{"version":3,"sources":["webpack:///src/base/slider/slider.vue","webpack:///./src/base/slider/slider.vue?799e","webpack:///./src/base/slider/slider.vue","webpack:///src/components/recommend/recommend.vue","webpack:///./src/components/recommend/recommend.vue?f8bc","webpack:///./src/components/recommend/recommend.vue","webpack:///./src/api/recommend.js"],"names":["Boolean","Number","_this","this","_setSliderWidth","_initDots","_initSlider","_play","refresh","timer","children","clientWidth","i","sliderWidth","_this2","loop","pageX","pageIndex","length","_this3","interval","slider_slider","render","_vm","_h","$createElement","_c","_self","ref","staticClass","_t","_v","_l","item","index","key","class","active","currentPageIndex1","staticRenderFns","base_slider_slider","__webpack_require__","normalizeComponent","slider","ssrContext","mixin","_getRecommend","_getDiscList","Slider","Scroll","scroll_scroll","Loading","loading","methods","extends_default","bottom","dissid","list","components_recommend_recommend","attrs","data","discList","recommends","id","href","linkUrl","src","picUrl","on","load","loadImage","_e","click","$event","selectItem","directives","name","rawName","value","expression","width","height","domProps","innerHTML","_s","creator","dissname","recommend_Component","recommend_normalizeComponent","recommend_recommend","__webpack_exports__","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign___default","__WEBPACK_IMPORTED_MODULE_3__config__","platform","uin","needNewCode","Object","__WEBPACK_IMPORTED_MODULE_2_common_js_jsonp__","hostUin","sin","sortId","categoryId","rnd","Math","random","format","__WEBPACK_IMPORTED_MODULE_4_axios___default","a","get","params","then","res","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default","resolve","console","log","disstid","type","utf8","onlysong","g_tk"],"mappings":"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","file":"static/js/2.afc225a3b62183558f81.js","sourcesContent":["<template>\r\n  <div class=\"slider\" ref=\"slider\">\r\n    <div class = \"slider-group\" ref = \"sliderGroup\">\r\n      <slot>\r\n      </slot>\r\n    </div>\r\n    <div class=\"dots\" >\r\n        <!-- 循环生成小圆圈 -->\r\n        <span class=\"dot\" v-for=\"(item, index) in dots\" :key=index :class=\"{active: currentPageIndex1 === index }\"></span>\r\n        <!-- <span class=\"dot\" :class=\"{active: currentPageIndex === index }\" v-for=\"(item, index) in dots\" :key=index></span> -->\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script type=\"text/ecmascript-6\">\r\n//   import {addClass} from 'common/js/dom';\r\n  import BScroll from 'better-scroll';\r\n  import {addClass} from '../../common/js/dom';\r\n    export default {\r\n        data () {\r\n            return {\r\n                dots: [],\r\n                // 当前显示的页面索引\r\n                currentPageIndex: 0,\r\n                currentPageIndex1: 0\r\n            };\r\n        },\r\n        props: {\r\n            loop: {\r\n                type: Boolean,\r\n                default: true\r\n            },\r\n            autoPlay: {\r\n                type: Boolean,\r\n                default: true\r\n            },\r\n            interval: {\r\n                type: Number,\r\n                default: 2000\r\n            }\r\n        },\r\n        mounted () {\r\n            // 与this.$nextTick作用一样，等dom加载完毕以后，再执行\r\n            // better-scroll初始化\r\n            // 20毫秒，因为浏览器的刷新事件时17ms一次\r\n            setTimeout(() => {\r\n                // 设置内容宽度\r\n                this._setSliderWidth();\r\n                // 初始化控制轮播图的小圆点,这个必须放在轮播图初始化前面，才能是5个\r\n                this._initDots();\r\n                // 初始化轮播\r\n                this._initSlider();\r\n                // this.slider.refresh();\r\n                if (this.autoPlay) {\r\n                    this._play();\r\n                }\r\n            }, 20);\r\n            window.addEventListener('resize', () => {\r\n                console.log(1111);\r\n                if (!this.slider) {\r\n                    return;\r\n                }\r\n                this._setSliderWidth(true);\r\n                this.slider.refresh();\r\n            });\r\n        },\r\n        // 组件被激活时调用\r\n        activated () {\r\n            if (this.autoPlay) {\r\n                this._play();\r\n            }\r\n        },\r\n        // 组件被移除时调用\r\n        deactivated () {\r\n            clearTimeout(this.timer);\r\n        },\r\n        // 组件销毁前调用\r\n        beforeDestroy () {\r\n            clearTimeout(this.timer);\r\n        },\r\n        methods: {\r\n            _setSliderWidth (isResize) {\r\n                // 获取sliderGroup里面的children\r\n                this.children = this.$refs.sliderGroup.children;\r\n                let width = 0;\r\n                let sliderWidth = this.$refs.slider.clientWidth;\r\n                for (let i = 0; i < this.children.length; i++) {\r\n                    let child = this.children[i];\r\n                    // 将每个child都添加slider-item这个类，确保它的样式是正确的\r\n                    addClass(child, 'slider-item');\r\n                    child.style.width = sliderWidth + 'px';\r\n                    width += sliderWidth;\r\n                }\r\n                if (this.loop && !isResize) {\r\n                    // 轮播的时候必须保证两边各有一张多余的图片，\r\n                    // 所以宽度必须多加两个画面的宽度\r\n                    width += 2 * sliderWidth;\r\n                }\r\n                this.$refs.sliderGroup.style.width = width + 'px';\r\n            },\r\n            _initSlider () {\r\n                this.slider = new BScroll(this.$refs.slider, {\r\n                    // 允许水平移动\r\n                    scrollX: true,\r\n                    // 不允许垂直移动\r\n                    scrollY: false,\r\n                    // 当快速滑动时开启滑动惯例\r\n                    momentum: false,\r\n                    // 获取滚动的当前页\r\n                    snap: true,\r\n                    // 设置无缝滚动\r\n                    snapLoop: this.loop,\r\n                    // 手指滑动的阈值，大于这个阈值，滑动到下一页\r\n                    snapThreshold: 0.3,\r\n                    // 轮播图切换的动画时间，400ms\r\n                    snapSpeed: 400\r\n                    // 允许点击\r\n                    // click: true\r\n                });\r\n                this.slider.on('scrollEnd', () => {\r\n                    // 获取当前页面的索引值\r\n                    let pageIndex = this.slider.getCurrentPage().pageX;\r\n                    // 当用手进行滚动时，对小圆点的状态进行更新\r\n                    this.currentPageIndex1 = pageIndex - 1;\r\n                    // 如果是循环滚动\r\n                    if (this.loop) {\r\n                        // 由于前面克隆了一张，所以这里减1\r\n                        // 并且由于当页面滑到第六张的时候它会马上跳到第2张\r\n                        // 然后小圆点就又跳到第一个位置了\r\n                        pageIndex -= 1;\r\n                    }\r\n                    this.currentPageIndex = pageIndex;\r\n                    // 如果要实现自动轮播。每次切换完毕之后就必须要重新\r\n                    // 执行一次切换，如果不这样那么只会在初始化的时候执行一次\r\n                    // 因为setTimeout只会执行一次\r\n                    if (this.autoPlay) {\r\n                        clearTimeout(this.timer);\r\n                        this._play();\r\n                    }\r\n                });\r\n                this.slider.on('beforeScrollStart', () => {\r\n                    if (this.autoPlay) {\r\n                        clearTimeout(this.timer);\r\n                    }\r\n                });\r\n            },\r\n            _initDots () {\r\n                this.dots = new Array(this.children.length);\r\n            },\r\n            _play () {\r\n                let pageIndex = this.currentPageIndex + 1;\r\n                if (this.loop) {\r\n                    pageIndex += 1;\r\n                }\r\n                // currentPageIndex1的序列号从0开始\r\n                this.timer = setTimeout(() => {\r\n                    // this.currentPageIndex1 = this.currentPageIndex;\r\n                    this.currentPageIndex1 = (pageIndex - 1) > 4 ? 0 : (pageIndex - 1);\r\n                    // 0代表y方向 400 代表时间间隔\r\n                    this.slider.goToPage(pageIndex, 0, 500);\r\n                }, this.interval);\r\n            }\r\n        },\r\n        // 在组件销毁的时候尽量清除定时器\r\n        destroyed () {\r\n            clearTimeout(this.timer);\r\n        }\r\n    };\r\n</script>\r\n\r\n<style lang=\"less\" rel=\"stylesheet/less\">\r\n  @import \"../../common/less/variable\";\r\n  .slider {\r\n    min-height: 1px;\r\n    position: relative;\r\n    .slider-group {\r\n      position: relative;\r\n      overflow: hidden;\r\n      white-space: nowrap;\r\n      .slider-item {\r\n        float: left;\r\n        box-sizing: border-box;\r\n        overflow: hidden;\r\n        text-align: center;\r\n        a {\r\n          display: block;\r\n          width: 100%;\r\n          overflow: hidden;\r\n          text-decoration: none;\r\n        }\r\n        img {\r\n          display: block;\r\n          width: 100%;\r\n        }\r\n      }\r\n    }\r\n    .dots {\r\n      position: absolute;\r\n      right: 0;\r\n      left: 0;\r\n      bottom: 12px;\r\n      text-align: center;\r\n      font-size: 0;\r\n      .dot {\r\n        display: inline-block;\r\n        margin: 0 4px;\r\n        width: 8px;\r\n        height: 8px;\r\n        border-radius: 50%;\r\n        background: @color-text-l;\r\n        &.active {\r\n          width: 20px;\r\n          border-radius: 5px;\r\n          background: @color-text-ll;\r\n        }\r\n      }\r\n    }\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/base/slider/slider.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"slider\",staticClass:\"slider\"},[_c('div',{ref:\"sliderGroup\",staticClass:\"slider-group\"},[_vm._t(\"default\")],2),_vm._v(\" \"),_c('div',{staticClass:\"dots\"},_vm._l((_vm.dots),function(item,index){return _c('span',{key:index,staticClass:\"dot\",class:{active: _vm.currentPageIndex1 === index }})}))])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0e932584\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/base/slider/slider.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0e932584\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./slider.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./slider.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./slider.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0e932584\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./slider.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/base/slider/slider.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"recommend\" ref=\"recommend\">\r\n    <scroll class=\"recommend-content\" :data=\"discList\" ref=\"scroll\">\r\n      <div>\r\n        <!-- 当recommends获取到了以后再渲染 -->\r\n        <div class=\"slider-wrapper\" ref=\"sliderWrapper\" v-if=\"recommends.length\">\r\n          <slider>\r\n            <div v-for=\"item in recommends\" :key=item.id>\r\n              <a :href=\"item.linkUrl\">\r\n                <!-- 监听图片的加载事件 -->\r\n                <!-- 当better-scroll中的click与fastclick发生冲突时，用fastclick中的needsclick忽略\r\n                better-scroll的点击事件 -->\r\n                <img class=\"needsclick\" :src=\"item.picUrl\" @load=\"loadImage\">\r\n              </a>\r\n            </div>\r\n          </slider>\r\n        </div>\r\n        <div class=\"recommend-list\">\r\n          <h1 class=\"list-title\">热门歌单推荐</h1>\r\n          <ul>\r\n            <li @click=\"selectItem(item)\" v-for=\"item in discList\" class=\"item\" :key = item.id>\r\n              <div class=\"icon\">\r\n                <img width=\"60\" height=\"60\" v-lazy=\"item.imgurl\">\r\n              </div>\r\n              <div class=\"text\">\r\n                <!-- v-html会将元素进行转义，然后当成HTML标签解析 -->\r\n                <h2 class=\"name\" v-html=\"item.creator.name\"></h2>\r\n                <p class=\"desc\" v-html=\"item.dissname\"></p>\r\n              </div>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n      <div class=\"loading-container\" v-show=\"!discList.length\">\r\n        <loading></loading>\r\n      </div> -->\r\n    </scroll>\r\n    <router-view></router-view>\r\n  </div>\r\n</template>\r\n\r\n<script type=\"text/ecmascript-6\">\r\n    import {getRecommend, getDiscList} from '../../api/recommend';\r\n    import {ERR_OK} from '../../api/config';\r\n    import Slider from '../../base/slider/slider';\r\n    import Scroll from '../../base/scroll/scroll';\r\n    import Loading from '../../base/loading/loading';\r\n    import {playlistMixin} from 'common/js/mixin';\r\n    import {mapMutations} from 'vuex';\r\n\r\n    export default {\r\n      mixins: [playlistMixin],\r\n      data () {\r\n        return {\r\n          recommends: [],\r\n          discList: [],\r\n          checkLoaded: false\r\n        };\r\n      },\r\n      created () {\r\n          // 调用methods里面的方法；\r\n          this._getRecommend();\r\n          this._getDiscList();\r\n      },\r\n      components: {\r\n        Slider,\r\n        Scroll,\r\n        Loading\r\n      },\r\n      methods: {\r\n          handlePlaylist (playlist) {\r\n            const bottom = playlist.length > 0 ? '60px' : '';\r\n            this.$refs.recommend.style.bottom = bottom;\r\n            this.$refs.scroll.refresh();\r\n          },\r\n          selectItem (item) {\r\n            // 上传到vuex\r\n            this.setDisc(item);\r\n            this.$router.push({\r\n              // 歌单详情页是通过歌单的dissid决定的\r\n              path: `/recommend/${item.dissid}`\r\n            });\r\n          },\r\n          _getRecommend () {\r\n              getRecommend().then((res) => {\r\n                  // 如果状态码等于ERR_OK\r\n                  if (res.code === ERR_OK) {\r\n                      this.recommends = res.data.slider;\r\n                      // 将获取到的轮播图的数据传递给recommends\r\n                      // this.recommends = res.data.slider;\r\n                  }\r\n              });\r\n          },\r\n          _getDiscList () {\r\n            getDiscList().then((res) => {\r\n              if (res.code === ERR_OK) {\r\n                  this.discList = res.data.list;\r\n              }\r\n            });\r\n          },\r\n          loadImage () {\r\n            if (!this.checkLoaded) {\r\n              this.$refs.scroll.refresh();\r\n              this.checkLoaded = true;\r\n            }\r\n          },\r\n          ...mapMutations({\r\n            setDisc: 'SET_DISC'\r\n          })\r\n      }\r\n  };\r\n</script>\r\n\r\n<style lang=\"less\" rel=\"stylesheet/less\">\r\n  @import \"../../common/less/variable\";\r\n  .recommend {\r\n    position: fixed;\r\n    width: 100%;\r\n    top: 88px;\r\n    bottom: 0;\r\n    .recommend-content {\r\n      height: 100%;\r\n      overflow: hidden;\r\n      .slider-wrapper {\r\n        position: relative;\r\n        width: 100%;\r\n        overflow: hidden;\r\n      }\r\n      .recommend-list {\r\n        .list-title {\r\n          height: 65px;\r\n          line-height: 65px;\r\n          text-align: center;\r\n          font-size: @font-size-medium;\r\n          color: @color-theme;\r\n        }\r\n        .item {\r\n          display: flex;\r\n          box-sizing: border-box;\r\n          align-items: center;\r\n          padding: 0 20px 20px 20px;\r\n          .icon {\r\n            flex: 0 0 60px;\r\n            width: 60px;\r\n            padding-right: 20px;\r\n          }\r\n          .text {\r\n            display: flex;\r\n            flex-direction: column;\r\n            justify-content: center;\r\n            flex: 1;\r\n            line-height: 20px;\r\n            overflow: hidden;\r\n            font-size: @font-size-medium;\r\n            .name {\r\n              margin-bottom: 10px;\r\n              color: @color-text;\r\n            }\r\n            .desc {\r\n              color: @color-text-d;\r\n            }\r\n          }\r\n        }\r\n      }\r\n      .loading-container {\r\n        position: absolute;\r\n        width: 100%;\r\n        top: 50%;\r\n        transform: translateY(-50%);\r\n      }\r\n    }\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/recommend/recommend.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"recommend\",staticClass:\"recommend\"},[_c('scroll',{ref:\"scroll\",staticClass:\"recommend-content\",attrs:{\"data\":_vm.discList}},[_c('div',[(_vm.recommends.length)?_c('div',{ref:\"sliderWrapper\",staticClass:\"slider-wrapper\"},[_c('slider',_vm._l((_vm.recommends),function(item){return _c('div',{key:item.id},[_c('a',{attrs:{\"href\":item.linkUrl}},[_c('img',{staticClass:\"needsclick\",attrs:{\"src\":item.picUrl},on:{\"load\":_vm.loadImage}})])])}))],1):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"recommend-list\"},[_c('h1',{staticClass:\"list-title\"},[_vm._v(\"热门歌单推荐\")]),_vm._v(\" \"),_c('ul',_vm._l((_vm.discList),function(item){return _c('li',{key:item.id,staticClass:\"item\",on:{\"click\":function($event){_vm.selectItem(item)}}},[_c('div',{staticClass:\"icon\"},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(item.imgurl),expression:\"item.imgurl\"}],attrs:{\"width\":\"60\",\"height\":\"60\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"text\"},[_c('h2',{staticClass:\"name\",domProps:{\"innerHTML\":_vm._s(item.creator.name)}}),_vm._v(\" \"),_c('p',{staticClass:\"desc\",domProps:{\"innerHTML\":_vm._s(item.dissname)}})])])}))])]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.discList.length),expression:\"!discList.length\"}],staticClass:\"loading-container\"},[_c('loading')],1),_vm._v(\" -->\\n  \")]),_vm._v(\" \"),_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-48cf1f26\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/recommend/recommend.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-48cf1f26\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./recommend.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./recommend.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./recommend.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-48cf1f26\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./recommend.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/recommend/recommend.vue\n// module id = null\n// module chunks = ","import jsonp from 'common/js/jsonp';\r\nimport {commonParams, options} from './config';\r\nimport axios from 'axios';\r\n// import axios from 'axios';\r\n\r\nexport function getRecommend () {\r\n    const url = 'https://c.y.qq.com/musichall/fcgi-bin/fcg_yqqhomepagerecommend.fcg';\r\n    const data = Object.assign({}, commonParams, {\r\n        platform: 'h5',\r\n        uin: 0,\r\n        needNewCode: 1\r\n    });\r\n    return jsonp(url, data, options);\r\n}\r\nexport function getDiscList () {\r\n    // 这儿采用普通的ajax请求\r\n    const url = '/api/getDiscList';\r\n    const data = Object.assign({}, commonParams, {\r\n        platform: 'yqq',\r\n        hostUin: 0,\r\n        sin: 29,\r\n        sortId: 5,\r\n        needNewCode: 0,\r\n        categoryId: 10000000,\r\n        rnd: Math.random(),\r\n        // 设置返回的数据格式\r\n        format: 'json'\r\n    });\r\n    return axios.get(url, {\r\n        params: data\r\n    }).then((res) => {\r\n        // 创建以完成的promise\r\n        return Promise.resolve(res.data);\r\n    });\r\n}\r\n\r\nexport function getSongList (dissid) {\r\n    console.log('这儿是disstid');\r\n    console.log(dissid);\r\n    // 这儿采用普通的ajax请求\r\n    const url = '/api/getSongList';\r\n    const data = Object.assign({}, commonParams, {\r\n        disstid: dissid,\r\n        type: 1,\r\n        utf8: 1,\r\n        onlysong: 0,\r\n        platform: 'yqq',\r\n        hostUin: 0,\r\n        needNewCode: 0,\r\n        g_tk: 5381,\r\n        format: 'json'\r\n    });\r\n    return axios.get(url, {\r\n        params: data\r\n    }).then((res) => {\r\n        return Promise.resolve(res.data);\r\n    });\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/recommend.js"],"sourceRoot":""}